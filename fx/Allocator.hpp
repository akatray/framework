// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Pragma.
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Imports.
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "Types.hpp"

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
// Framework.
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
namespace fx
{
	// --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	// Memory provider interface.
	// --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	struct Allocator
	{
		virtual ~Allocator ( void ) {}
		virtual auto alloc ( const u64 _Size ) -> ptr { return new u8[_Size]; }
		virtual auto free ( void* _Pointer ) -> void { delete[] reinterpret_cast<u8*>(_Pointer); }
	};

	// --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	// Default memory provider.
	// --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	auto AllocDef = Allocator();
}

